/**
 * nuSelectable - jQuery Plugin
 * Copyright (c) 2015, Alex Suyun
 * Copyright (c) 2018, Carl-Philip HÃ¤nsch
 * Copyright (c) 2020, RA
 * Copyrights licensed under The MIT License (MIT)
 */
!function(t,e,s,o){"use strict";var i="nuSelectable";function n(t){t.stopPropagation(),t.preventDefault()}var a=function(){},c={start:a,select:a,unselect:a,stop:a,items:void 0,boxClass:void 0,selectedClass:void 0,distance:10,itemsChange:!0},h=function(e,s){this.container=t(e),this.options=t.extend({},c,s),this.selectionBox=t("<div>").addClass(this.options.boxClass),this.selecting=!1,this._normalizeContainer(),this._bindEvents(),this._cacheItemData()};h.prototype._normalizeContainer=function(){this.container.css({"-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"})},h.prototype._cacheItemData=function(){this.itemData=t(this.options.items).toArray().map((e,s)=>({element:t(e),selected:t(e).hasClass(this.options.selectedClass),position:e.getBoundingClientRect()}))},h.prototype._collideWithItems=function(){var t=this.selectionBox[0].getBoundingClientRect();for(var e of this.itemData){var s=!(t.right<e.position.left||t.left>e.position.right||t.bottom<e.position.top||t.top>e.position.bottom);s&&!e.selected&&(e.selected=!0,e.element.addClass(this.options.selectedClass),this.options.select(e.element)),e.selected&&!s&&this.selecting&&(e.selected=!1,e.element.removeClass(this.options.selectedClass),this.options.unselect(e.element))}},h.prototype._createBox=function(){this.selectionBox.appendTo(s.body).css({position:"absolute",overflow:"hidden"})},h.prototype._drawBox=function(t){this.selectionBox.css(t).css({"z-index":Math.round(Date.now()/1e3)})},h.prototype._mousedown=function(t){return 1===t.which&&(!t.metaKey&&!t.ctrlKey&&void(this.options.disable||(this.selecting=!1,this.pos=[t.pageX,t.pageY])))},h.prototype._mousemove=function(t){var e=this.pos;if(!e)return!1;var s=[t.pageX,t.pageY],o=Math.abs(s[0]-e[0]),i=Math.abs(s[1]-e[1]);if(this.selecting||(o>=this.options.distance||i>=this.options.distance)&&(this.selecting=!0,this.options.start(),this.options.itemsChange&&this._cacheItemData(),this._createBox()),this.selecting){n(t);var a=s[0]<e[0]?e[0]-o:e[0],c=s[1]<e[1]?e[1]-i:e[1];this._drawBox({width:o,height:i,top:c,left:a}),this._collideWithItems()}},h.prototype._mouseup=function(t){this.pos=void 0,this.selecting&&(n(t),this.selecting=!1,this.selectionBox.remove(),this.options.stop())},h.prototype._bindEvents=function(){this.container.on("mousedown",t.proxy(this._mousedown,this)),t(s).on("mousemove",t.proxy(this._mousemove,this)),t(s).on("mouseup",t.proxy(this._mouseup,this))},t.fn[i]=function(e,...s){return this.each(function(){var o=t(this),n=o.data(i);n?"string"==typeof e&&"_"!==e[0]&&"init"!==e&&n[e].apply(n,s):o.data(i,new h(this,e))})}}(jQuery,window,document);
